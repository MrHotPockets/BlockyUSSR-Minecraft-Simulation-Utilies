//gameStates: menu, game, death
//playerStates: jumping, still
var gameState = 'menu';
var playerState = 'still'
var groundHeight;
function createGround(height, borderthickness, color, fillcolor){
createCanvas("ground");
setStrokeColor(color);
setStrokeWidth(borderthickness);
setFillColor(fillcolor);
groundHeight = 445-height
rect(0,(groundHeight),320,height);
}
function gTick(){
  setTimeout(function yes() {
    var playerHeight;
    console.log('yes')
    playerHeight = getProperty("circle", "y") + getProperty("circle", "height");
    //If the player is above the ground and is not jumping he will fall by 2
    if ((playerHeight < groundHeight) && (playerState != 'jumping')){
      setProperty("circle", "y", getProperty("circle", "y") + 2);
    }
    //If the player is above the ground and is jumping he will rise up by 1
    else if ((playerHeight < groundHeight) && (playerState == 'jumping')){
      setProperty("circle", "y", getProperty("circle", "y") - 1);
    }
  }, 20)
}
setScreen("menu");
setProperty("circle", "hidden", true);
onEvent("button1","click", function startGame(){
  setInterval(gTick, 15)
  setScreen("game");
  createGround(50, 1, "black", "black");
  setProperty("circle", "y", groundHeight - getProperty("circle", "height") - 20);
  setProperty("circle", "hidden", false);
  gameState = 'game';
  if(gameState === 'game'){
    while(gameState === 'game'){
      gTick()
      onEvent("circle", "keyup", function jumping(){
        
      })
    }
  }
})

  


